<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9261037885994187"
     	crossorigin="anonymous"></script>
	<title>Ideal Weight Calculator</title>
	<style>
		body {
			font-family: 'Segoe UI', Tahoma, Geneva;
			background-color: #eaeaea;
			color: #333; 
			padding: 40px;
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		h1 {
			margin-bottom: 20px;
			color: #333;
		}
			.container {
			background: #fff;
			padding: 32px 40px;
			border-radius: 16px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
			max-width: 500px;
			width: 85%;
		}
			label {
			font-weight: 500;
		}
		select {
			margin-top: 5px;
			padding: 8px 12px;
			width: 100%;
			border: 1px solid #ccc;
			border-radius: 6px;
			box-sizing: border-box;
			appearance: none;
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' stroke='%23333' stroke-width='2' fill='none' viewBox='0 0 24 24'%3E%3Cpath d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
			background-repeat: no-repeat;
			background-position: right 10px center;
			background-size: 16px;
			padding-right: 36px;
		}
		input[type=number] {
			margin-top: 5px;
			padding: 8px 12px;
			width: 100%;
			border: 1px solid #ccc;
			border-radius: 6px;
			box-sizing: border-box;
		}
		button {
			margin-top: 16px;
			background-color: #2b6cb0;
			color: white;
			border: none;
			padding: 12px 16px;
			font-size: 16px;
			border-radius: 6px;
			cursor: pointer;
			transition: background-color 0.3s;
		}
		button:hover {
			background-color: #2c5282;
		}
		#result {
			margin-top: 32px;
			font-size: 18px;
			font-weight: 600;
			color: #2f855a;
			text-align: center;
		}

		
		.tooltip {
		  position: relative;
		  display: inline-block;
		  margin-left: 8px;
		  cursor: pointer;
		}
		.tooltiptext {
		  visibility: hidden;
		  opacity: 0;
		  width: 240px;
		  background-color: #333;
		  color: #fff;
		  text-align: center;
		  border-radius: 6px;
		  padding: 8px;
		  position: absolute;
		  z-index: 1;
		  bottom: 125%;
		  left: 50%;
		  margin-left: -120px;
		  transition: opacity 0.3s;
		}
		.tooltip.active .tooltiptext {
		  visibility: visible;
		  opacity: 1;
		}
		.tooltip img {
			display: none;
			position: absolute;
			top: -225px;
			left: 20px;
			z-index: 1;
			
			border: 1px solid #ccc;
			border-radius: 8px;
			box-shadow: 0 2px 8px rgba(0,0,0,0.2);
		}
			.tooltip:hover img,
			.tooltip:active img {
			display: block;
		}
	</style>
</head>
<body>
	<h1>YOUR Ideal Weight Calculator</h1>
		<div class="container">
			
			<!-- Unit switch -->
			<div class="switch">
			  <input type="checkbox" id="unitSwitch">
			  <label for="unitSwitch">Use Imperial (ft/in)</label>
			</div>

			<!-- Height (Metric) -->
			<div id="metricInput">
			  <label for="heightCm">Height (cm):</label>
			  <input type="number" id="heightCm" min="122" max="244" value="172">
			</div>

			<!-- Height (Imperial) -->
			<div id="imperialInput" style="display:none;">
			  <label for="heightFt">Height:</label>
			  <div class="height-inputs">
				<input type="number" id="heightFt" min="4" max="8" value="5"> 
				<input type="number" id="heightIn" min="0" max="11" value="8">
			  </div>
			</div>

			<label for="gender">Gender:</label>
			<select id="gender">
				<option value="male">Male</option>
				<option value="female">Female</option>
			</select>
			
			<label for="muscle">Muscularity:</label>
			<select id="muscle">
				<option value="-0.04">Untrained</option>
				<option value="0.0">Fit</option>
				<option value="0.04">Moderately muscular</option>
				<option value="0.08">Muscular</option>
				<option value="0.12">Highly muscular</option>
			</select>

			<label for="ethnicity">Race:</label>
			<select id="ethnicity">
				<option value="0">White/Mixed</option>
				<option value="-0.05">Asian</option>
				<option value="0.03">Black</option>
			</select>
			<small id="ethnicity-note" style="color:#666; font-size: 13px;"></small>
			
			<label for="frame">Frame Size: 
			<span class="tooltip">❔<img src="frame_size_guide.png" alt="frame size guide img"></span></label>
			<select id="frame">
				<option value="0">Medium</option>
				<option value="-0.05">Small</option>
				<option value="0.1">Large</option>
			</select>

			<label for="torso">Torso Length: 
			<span class="tooltip">❔<img src="torso_guide.png" alt="torso length guide img" ></span></label>
			<select id="torso">
				<option value="0">Medium</option>
				<option value="-0.05">Short</option>
				<option value="0.05">Long</option>
			</select>

			<label for="ape">Ape Index: 
			<span class="tooltip">❔<img src="ape_index.png" alt="ape index guide img" ></span></label>
			<select id="ape">
				<option value="0">less than 5cm</option>
				<option value="0.01">+5-12cm</option>
				<option value="0.02">+12cm</option>
			</select>

			<button onclick="calculateWeight()">Calculate</button>

			<h2 id="result">Ideal Weight Range will be here.</h2>
		</div>

	<script>
		document.querySelectorAll('.tooltip').forEach(tip => {
		  tip.addEventListener('click', e => {
		    e.stopPropagation();
		    tip.classList.toggle('active');
		  });
		});
		document.addEventListener('click', () => {
		  document.querySelectorAll('.tooltip.active').forEach(t => t.classList.remove('active'));
		});
		
		const maleBaseWeights = {
				122: [34.5, 38.8],
123: [35.0, 39.4],
124: [35.5, 39.9],
125: [36.0, 40.5],
126: [36.5, 41.1],
127: [37.0, 41.6],
128: [37.5, 42.2],
129: [38.0, 42.8],
130: [38.5, 43.3],
131: [39.1, 44.0],
132: [39.7, 44.7],
133: [40.3, 45.3],
134: [40.9, 46.0],
135: [41.5, 46.7],
136: [42.1, 47.4],
137: [42.7, 48.0],
138: [43.3, 48.7],
139: [43.9, 49.4],
140: [44.5, 50.1],
141: [45.1, 50.7],
142: [45.7, 51.4],
143: [46.3, 52.2],
144: [46.9, 52.8],
145: [47.5, 53.4],
146: [48.2, 54.2],
147: [48.9, 55.0],
148: [49.6, 55.8],
149: [50.3, 56.6],
150: [51.0, 57.4],
151: [51.7, 58.2],
152: [52.4, 59.0],
153: [53.1, 59.7],
154: [53.8, 60.5],
155: [54.5, 61.3],
156: [55.2, 62.1],
157: [55.9, 62.9],
158: [56.6, 63.7],
159: [57.3, 64.5],
160: [58.0, 65.3],
161: [58.7, 66.1],
162: [59.4, 67.0],
163: [60.1, 67.6],
164: [60.8, 68.4],
165: [61.5, 69.2],
166: [62.2, 70.0],
167: [62.9, 70.8],
168: [63.6, 71.6],
169: [64.3, 72.5],
170: [65.0, 73.1],
171: [65.7, 73.9],
172: [66.4, 74.7],
173: [67.1, 75.5],
174: [67.8, 76.3],
175: [68.5, 77.1],
176: [69.2, 77.9],
177: [69.9, 78.7],
178: [70.6, 79.4],
179: [71.3, 80.2],
180: [72.0, 81.0],
181: [72.8, 81.9],
182: [73.6, 82.8],
183: [74.4, 83.7],
184: [75.2, 84.6],
185: [76.0, 85.5],
186: [77.0, 86.6],
187: [78.0, 87.8],
188: [79.0, 88.9],
189: [80.0, 90.0],
190: [81.2, 91.4],
191: [82.4, 92.7],
192: [83.6, 94.1],
193: [84.8, 95.4],
194: [86.0, 96.8],
195: [87.2, 98.1],
196: [88.4, 99.5],
197: [89.6, 100.8],
198: [90.8, 102.2],
199: [92.0, 103.5],
200: [93.1, 104.7],
				201: [94.1, 105.9],
				202: [95.2, 107.1],
				203: [96.3, 108.4],
				204: [97.4, 109.6],
				205: [98.5, 110.8],
				206: [99.6, 112.1],
				207: [100.7, 113.3],
				208: [101.8, 114.5],
				209: [102.9, 115.8],
				210: [104.0, 117.0],
				211: [105.1, 118.2],
				212: [106.2, 119.5],
				213: [107.3, 120.7],
				214: [108.4, 122.0],
				215: [109.5, 123.2],
				216: [110.6, 124.4],
				217: [111.7, 125.7],
				218: [112.8, 126.9],
				219: [113.9, 128.1],
				220: [115.0, 129.4],
				221: [116.1, 130.6],
				222: [117.2, 131.9],
				223: [118.3, 133.1],
				224: [119.4, 134.4],
				225: [120.5, 135.6],
				226: [121.6, 136.8],
				227: [122.7, 138.1],
				228: [123.8, 139.3],
				229: [124.9, 140.5],
				230: [126.0, 141.8],
				231: [127.1, 143.0],
				232: [128.2, 144.2],
				233: [129.3, 145.5],
				234: [130.4, 146.7],
				235: [131.5, 147.9],
				236: [132.6, 149.2],
				237: [133.7, 150.4],
				238: [134.8, 151.7],
				239: [135.9, 152.9],
				240: [137.0, 154.1],
				241: [138.1, 155.4],
				242: [139.2, 156.6],
				243: [140.3, 157.8],
			};


		const femaleBaseWeights = {
			  	122: [36.4, 42.6],
				123: [36.7, 43.1],
				124: [37.1, 43.5],
				125: [37.4, 43.9],
				126: [37.8, 44.3],
				127: [38.2, 44.7],
				128: [38.5, 45.1],
				129: [38.9, 45.5],
				130: [39.2, 46.0],
				131: [39.6, 46.4],
				132: [39.9, 46.8],
				133: [40.3, 47.2],
				134: [40.7, 47.6],
				135: [41.0, 48.0],
				136: [41.4, 48.5],
				137: [41.7, 48.7],
				138: [42.1, 49.3],
				139: [42.4, 49.7],
				140: [42.8, 50.1],
				141: [43.2, 50.6],
				142: [43.7, 51.1],
				143: [44.1, 51.6],
				144: [44.6, 52.2],
				145: [45.0, 52.7],
				146: [45.5, 53.2],
				147: [45.9, 53.8],
				148: [46.4, 54.3],
				149: [46.8, 54.8],
				150: [47.3, 55.5],
				151: [48.0, 56.3],
				152: [48.7, 57.0],
				153: [49.4, 57.8],
				154: [50.0, 58.6],
				155: [50.7, 59.2],
				156: [51.4, 60.0],
				157: [52.1, 60.9],
				158: [52.8, 61.7],
				159: [53.5, 62.6],
				160: [54.2, 63.4],
				161: [54.9, 64.3],
				162: [55.6, 65.1],
				163: [56.3, 66.0],
			  	164: [57.0, 66.8],
			  	165: [57.6, 67.5],
				166: [58.3, 68.3],
				167: [59.0, 69.1],
				168: [59.7, 70.0],
				169: [60.4, 70.8],
				170: [61.1, 71.6],
				171: [61.8, 72.5],
				172: [62.5, 73.3],
				173: [63.2, 74.1],
				174: [63.9, 75.0],
				175: [64.6, 75.8],
				176: [65.3, 76.6],
				177: [66.0, 77.4],
				178: [66.7, 78.3],
				179: [67.4, 79.1],
				180: [68.1, 79.9],
				181: [69.0, 80.8],
				182: [70.0, 82.0],
				183: [71.0, 83.2],
				185: [72.0, 84.3],
				186: [73.0, 85.5],
				187: [74.0, 86.7],
				188: [75.0, 87.9],
				189: [76.0, 89.1],
			  	190: [77.0, 90.2],
			  	191: [77.1, 90.4],
				192: [78.2, 91.6],
				193: [79.2, 92.9],
				194: [80.3, 94.1],
				195: [81.4, 95.4],
				196: [82.5, 96.6],
				197: [83.5, 97.9],
				198: [84.6, 99.1],
				199: [85.7, 100.4],
				200: [86.7, 101.6],
				201: [87.8, 102.9],
				202: [88.9, 104.1],
				203: [90.0, 105.4],
				204: [91.0, 106.6],
				205: [92.1, 107.9],
				206: [93.2, 109.2],
				207: [94.2, 110.4],
				208: [95.3, 111.7],
				209: [96.4, 112.9],
				210: [97.4, 114.2],
				211: [98.5, 115.4],
				212: [99.6, 116.7],
				213: [100.6, 117.9],
				214: [101.7, 119.2],
				215: [102.8, 120.4],
				216: [103.9, 121.7],
				217: [105.0, 122.9],
				218: [106.0, 124.2],
				219: [107.1, 125.4],
				220: [108.1, 126.7],
				221: [109.2, 127.9],
				222: [110.3, 129.2],
				223: [111.3, 130.4],
				224: [112.4, 131.7],
				225: [113.5, 132.9],
				226: [114.6, 134.2],
				227: [115.6, 135.5],
				228: [116.7, 136.7],
				229: [117.8, 138.0],
				230: [118.8, 139.2],
				231: [119.9, 140.5],
				232: [121.0, 141.7],
				233: [122.0, 142.9],
				234: [123.1, 144.2],
				235: [124.2, 145.5],
				236: [125.3, 146.7],
				237: [126.3, 148.0],
				238: [127.4, 149.2],
				239: [128.5, 150.5],
				240: [129.5, 151.7],
				241: [130.6, 153.0],
				242: [131.7, 154.2],
				243: [132.7, 155.5],
			};


		const muscleSelect = document.getElementById('muscle');
		const ethnicitySelect = document.getElementById('ethnicity');
		const ethnicityNote = document.getElementById('ethnicity-note');

		muscleSelect.addEventListener('change', () => {
			const muscle = parseFloat(muscleSelect.value);

			if (muscle >= 0.04) {
				ethnicitySelect.disabled = true;
				ethnicitySelect.value = "0"; // reset to neutral if you want
				ethnicityNote.innerText = "Irrelevant for muscular body types.\n";
			} else {
				ethnicitySelect.disabled = false;
				ethnicityNote.innerText = "";
			}
		});

		// --- HEIGHT SWITCH ---
		const switchInput = document.getElementById('unitSwitch');
		const metricInput = document.getElementById('metricInput');
		const imperialInput = document.getElementById('imperialInput');
		const heightCm = document.getElementById('heightCm');
		const heightFt = document.getElementById('heightFt');
		const heightIn = document.getElementById('heightIn');

		function cmToFeetInches(cm) {
		  let totalInches = cm / 2.54;
		  let feet = Math.floor(totalInches / 12);
		  let inches = Math.round(totalInches % 12);
		  if (inches === 12) { feet++; inches = 0; }
		  return [feet, inches];
		}

		function feetInchesToCm(feet, inches) {
		  return Math.round((feet * 12 + inches) * 2.54);
		}

		switchInput.addEventListener('change', () => {
		  if (switchInput.checked) {
			// Switch to imperial
			const [ft, inVal] = cmToFeetInches(heightCm.value);
			heightFt.value = ft;
			heightIn.value = inVal;
			metricInput.style.display = 'none';
			imperialInput.style.display = 'block';
		  } else {
			// Switch to metric
			const cm = feetInchesToCm(parseInt(heightFt.value), parseInt(heightIn.value));
			heightCm.value = cm;
			imperialInput.style.display = 'none';
			metricInput.style.display = 'block';
		  }
		});
		
		function calculateWeight() {
		let height = 172;
		const gender = document.getElementById('gender').value;
		const frame = parseFloat(document.getElementById('frame').value);
		const muscle = parseFloat(document.getElementById('muscle').value);
		const torso = parseFloat(document.getElementById('torso').value);
		const ape = parseFloat(document.getElementById('ape').value);
		let ethnicity = parseFloat(document.getElementById('ethnicity').value);

		const baseWeights = gender === 'male' ? maleBaseWeights : femaleBaseWeights;

		if (switchInput.checked)
		{
			height = feetInchesToCm(parseInt(heightFt.value), parseInt(heightIn.value));
		}
		else
		{
			height = parseInt(document.getElementById('heightCm').value);
		}
			
		if (!baseWeights[height]) {
			document.getElementById('result').innerText = 'Height out of range or not supported yet.';
			return;
		}

		// If the user is muscular, ignore ethnicity
		if (muscle >= 0.04) {
			ethnicity = 0;
		}

		const base = baseWeights[height];

		let minWeight = base[0];
		let maxWeight = base[1];
		const totalMultiplier = 1 + muscle + torso + ape + ethnicity + frame;

		minWeight *= totalMultiplier;
		maxWeight *= totalMultiplier;

		if (switchInput.checked)
		{
			document.getElementById('result').innerText =
			`Ideal Weight Range: ${(minWeight * 2.205).toFixed(1)} lb – ${(maxWeight * 2.205).toFixed(1)} lb`;
		}
		else
		{
		document.getElementById('result').innerText =
			`Ideal Weight Range: ${minWeight.toFixed(1)} kg – ${maxWeight.toFixed(1)} kg`;
		}
	}

	</script>
</body>
</html>
