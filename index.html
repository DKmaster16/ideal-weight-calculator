<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9261037885994187"
     	crossorigin="anonymous"></script>
	<title>Ideal Weight Calculator</title>
	<style>
		body {
			font-family: 'Segoe UI', Tahoma, Geneva;
			background-color: #eaeaea;
			color: #333; 
			padding: 40px;
			display: flex;
			flex-direction: column;
			align-items: center;
		}
		h1 {
			margin-bottom: 20px;
			color: #333;
		}
			.container {
			background: #fff;
			padding: 32px 40px;
			border-radius: 16px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
			max-width: 500px;
			width: 85%;
		}
			label {
			font-weight: 500;
		}
		select {
			margin-top: 5px;
			padding: 8px 12px;
			width: 100%;
			border: 1px solid #ccc;
			border-radius: 6px;
			box-sizing: border-box;
			appearance: none;
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' stroke='%23333' stroke-width='2' fill='none' viewBox='0 0 24 24'%3E%3Cpath d='M19 9l-7 7-7-7'/%3E%3C/svg%3E");
			background-repeat: no-repeat;
			background-position: right 10px center;
			background-size: 16px;
			padding-right: 36px;
		}
		input[type=number] {
			margin-top: 5px;
			padding: 8px 12px;
			width: 100%;
			border: 1px solid #ccc;
			border-radius: 6px;
			box-sizing: border-box;
		}
		button {
			margin-top: 16px;
			background-color: #2b6cb0;
			color: white;
			border: none;
			padding: 12px 16px;
			font-size: 16px;
			border-radius: 6px;
			cursor: pointer;
			transition: background-color 0.3s;
		}
		button:hover {
			background-color: #2c5282;
		}
		#result {
			margin-top: 32px;
			font-size: 18px;
			font-weight: 600;
			color: #2f855a;
			text-align: center;
		}

		
		.tooltip {
		  position: relative;
		  display: inline-block;
		  margin-left: 8px;
		  cursor: pointer;
		}
		.tooltiptext {
		  visibility: hidden;
		  opacity: 0;
		  width: 240px;
		  background-color: #333;
		  color: #fff;
		  text-align: center;
		  border-radius: 6px;
		  padding: 8px;
		  position: absolute;
		  z-index: 1;
		  bottom: 125%;
		  left: 50%;
		  margin-left: -120px;
		  transition: opacity 0.3s;
		}
		.tooltip.active .tooltiptext {
		  visibility: visible;
		  opacity: 1;
		}
		.tooltip img {
			display: none;
			position: absolute;
			top: -225px;
			left: 20px;
			z-index: 1;
			
			border: 1px solid #ccc;
			border-radius: 8px;
			box-shadow: 0 2px 8px rgba(0,0,0,0.2);
		}
			.tooltip:hover img,
			.tooltip:active img {
			display: block;
		}
	</style>
</head>
<body>
	<h1>YOUR Ideal Weight Calculator</h1>
		<div class="container">
			
			<!-- Unit switch -->
			<div class="switch">
			  <input type="checkbox" id="unitSwitch">
			  <label for="unitSwitch">Use Imperial (ft/in)</label>
			</div>

			<!-- Height (Metric) -->
			<div id="metricInput">
			  <label for="heightCm">Height (cm):</label>
			  <input type="number" id="heightCm" min="103" max="243" value="172">
			</div>

			<!-- Height (Imperial) -->
			<div id="imperialInput" style="display:none;">
			  <label for="heightFt">Height:</label>
			  <div class="height-inputs">
				<input type="number" id="heightFt" min="3" max="8" value="5"> 
				<input type="number" id="heightIn" min="0" max="11" value="8">
			  </div>
			</div>

			<label for="gender">Gender:</label>
			<select id="gender">
				<option value="male">Male</option>
				<option value="female">Female</option>
			</select>
			
			<label for="muscle">Hypertrophy level:</label>
			<select id="muscle">
				<option value="-0.05">Untrained</option>
				<option value="-0.025">Beginner (3 months)</option>
				<option value="0.00">Novice (6 months)</option>
    <option value="0.04">Late Novice (1 year)</option>
				<option value="0.09">Intermediate (2 years)</option>
    <option value="0.12">Late Intermediate (3 years)</option>
				<option value="0.155">Advanced (5 years)</option>
			<option value="0.175">Late Advanced (7 years)</option>
			</select>

			<label for="ethnicity">Race:</label>
			<select id="ethnicity">
				<option value="0">White/Mixed</option>
				<option value="-0.04">Asian</option>
				<option value="0.03">Black</option>
			</select>
			<small id="ethnicity-note" style="color:#666; font-size: 13px;"></small>
			
			<label for="frame">Frame Size: 
			<!--<span class="tooltip">❔<img src="frame_size_guide.png" alt="frame size guide img"></span></label>-->
			<select id="frame">
				<option value="0.0">Medium</option>
				<option value="-0.05">Small</option>
				<option value="0.05">Large</option>
			</select>

			<label for="torso">Torso Length: 
			<!--<span class="tooltip">❔<img src="torso_guide.png" alt="torso length guide img" ></span></label>-->
			<select id="torso">
				<option value="0">Medium</option>
				<option value="-0.05">Short</option>
				<option value="0.05">Long</option>
			</select>

			<label for="ape">Ape Index: 
			<!--<span class="tooltip">❔<img src="ape_index.png" alt="ape index guide img" ></span></label>-->
			<select id="ape">
				<option value="0">less than 5cm</option>
				<option value="0.01">+5-12cm</option>
				<option value="0.02">+12cm</option>
			</select>

			<button onclick="calculateWeight()">Calculate</button>

			<h2 id="result">Ideal Weight Range will be here.</h2>
		</div>

	<script>
		document.querySelectorAll('.tooltip').forEach(tip => {
		  tip.addEventListener('click', e => {
		    e.stopPropagation();
		    tip.classList.toggle('active');
		  });
		});
		document.addEventListener('click', () => {
		  document.querySelectorAll('.tooltip.active').forEach(t => t.classList.remove('active'));
		});
		
		const maleBaseWeights = {
				103: [22.9, 25.8],
				104: [23.3, 26.2],
				105: [23.7, 26.7],
				106: [24.1, 27.1],
				107: [24.5, 27.6],
				108: [24.9, 28.0],
				109: [25.3, 28.5],
				110: [25.7, 28.9],
				111: [26.1, 29.4],
				112: [26.5, 29.8],
				113: [26.9, 30.3],
				114: [26.3, 29.6],
				115: [26.7, 30.0],
				116: [27.1, 30.5],
				117: [27.5, 30.9],
				118: [27.9, 31.4],
				119: [28.3, 31.8],
				120: [28.7, 32.3],
				121: [29.1, 32.7],
				122: [29.5, 33.2],
				123: [30.0, 33.8],
				124: [30.5, 34.3],
				125: [31.0, 34.9],
				126: [31.5, 35.4],
				127: [32.0, 36.0],
				128: [32.5, 36.6],
				129: [33.0, 37.1],
				130: [33.6, 37.8],
				131: [34.2, 38.5],
				132: [34.8, 39.2],
				133: [35.4, 39.8],
				134: [36.0, 40.5],
				135: [36.7, 41.3],
				136: [37.4, 42.1],
				137: [38.1, 42.6],
				138: [38.8, 43.7],
				139: [39.5, 44.4],
				140: [40.2, 45.2],
				141: [41.0, 46.1],
				142: [41.8, 47.0],
				143: [42.6, 47.9],
				144: [43.4, 48.8],
				145: [44.2, 49.7],
				146: [45.0, 50.6],
				147: [45.8, 51.5],
				148: [46.6, 52.4],
				149: [47.4, 53.3],
				150: [48.2, 54.2],
				151: [49.0, 55.1],
				152: [49.8, 56.0],
				153: [50.6, 56.9],
				154: [51.4, 57.8],
				155: [52.2, 58.7],
				156: [53.0, 59.6],
				157: [53.8, 60.5],
				158: [54.6, 61.5],
				159: [55.4, 62.3],
				160: [56.2, 63.2],
				161: [57.0, 64.1],
				162: [57.8, 65.0],
				163: [58.6, 65.9],
				164: [59.4, 66.8],
				165: [60.2, 67.7],
				166: [61.0, 68.6],
				167: [61.8, 69.5],
				168: [62.6, 70.4],
				169: [63.4, 71.3],
				170: [64.2, 72.2],
				171: [65.0, 73.1],
				172: [65.8, 74.0],
				173: [66.4, 74.8],
				174: [67.2, 75.6],
				175: [68.0, 76.5],
				176: [68.8, 77.4],
				177: [69.6, 78.3],
				178: [70.4, 79.2],
				179: [71.2, 80.1],
				180: [72.0, 81.0],
				181: [72.8, 81.9],
				182: [73.6, 82.8],
				183: [74.4, 83.7],
				184: [75.2, 84.6],
				185: [76.0, 85.5],
				186: [76.9, 86.5],
				187: [77.8, 87.5],
				188: [78.7, 88.5],
				189: [79.6, 89.6],
				190: [80.5, 90.6],
				191: [81.4, 91.6],
				192: [82.3, 92.6],
				193: [83.2, 93.6],
				194: [84.1, 94.6],
				195: [85.0, 95.6],
				196: [85.9, 96.6],
				197: [86.8, 97.7],
				198: [87.7, 98.7],
				199: [88.6, 99.7],
				200: [89.5, 100.7],
				201: [90.4, 101.7],
				202: [91.3, 102.7],
				203: [92.2, 103.7],
				204: [93.1, 104.7],
				205: [94.0, 105.8],
				206: [95.0, 106.9],
				207: [96.0, 108.0],
				208: [97.0, 109.1],
				209: [98.0, 110.3],
				210: [99.0, 111.4],
				211: [100.0, 112.5],
				212: [101.0, 113.6],
				213: [102.0, 114.8],
				214: [103.0, 115.9],
				215: [104.0, 117.0],
				216: [105.1, 118.2],
				217: [106.2, 119.5],
				218: [107.3, 120.7],
				219: [108.4, 121.9],
				220: [109.5, 123.2],
				221: [110.6, 124.4],
				222: [111.7, 125.6],
				223: [112.8, 126.9],
				224: [113.9, 128.1],
				225: [115.0, 129.4],
				226: [116.2, 130.7],
				227: [117.4, 132.1],
				228: [118.6, 133.4],
				229: [119.8, 134.8],
				230: [121.0, 136.1],
				231: [122.15, 137.4],
				232: [123.3, 138.7],
				233: [124.45, 140.0],
				234: [125.6, 141.3],
				235: [126.75, 142.6],
				236: [127.9, 143.9],
				237: [129.05, 145.2],
				238: [130.3, 146.6],
				239: [131.5, 147.9],
				240: [132.7, 149.3],
				241: [133.9, 150.6],
				242: [135.1, 152.0],
				243: [136.3, 153.3],
			};


		const femaleBaseWeights = {
				103: [20.5, 24.0],
				104: [20.8, 24.4],
				105: [21.1, 24.7],
				106: [21.4, 25.1],
				107: [21.7, 25.4],
				108: [22.0, 25.8],
				109: [22.3, 26.1],
				110: [22.6, 26.5],
				111: [22.9, 26.8],
				112: [23.2, 27.2],
				113: [23.5, 27.5],
				114: [23.8, 27.9],
				115: [24.2, 28.4],
				116: [24.6, 28.8],
				117: [25.0, 29.3],
				118: [25.4, 29.8],
				119: [25.8, 30.2],
				120: [26.2, 30.7],
				121: [26.6, 31.2],
			  	122: [27.0, 31.6],
				123: [27.5, 32.2],
				124: [28.0, 32.8],
				125: [28.5, 33.4],
				126: [29.0, 34.0],
				127: [29.5, 34.5],
				128: [30.0, 35.1],
				129: [31.0, 36.3],
				130: [32.0, 37.5],
				131: [32.5, 38.1],
				132: [33.0, 38.7],
				133: [33.6, 39.4],
				134: [34.2, 40.1],
				135: [34.8, 40.8],
				136: [35.4, 41.4],
				137: [36.0, 42.2],
				138: [36.6, 42.9],
				139: [37.2, 43.6],
				140: [38.8, 45.5],
				141: [39.5, 46.3],
				142: [40.2, 47.1],
				143: [40.9, 47.9],
				144: [41.6, 48.7],
				145: [42.3, 49.5],
				146: [43.0, 50.4],
				147: [43.7, 51.2],
				148: [44.4, 52.0],
				149: [45.1, 52.8],
				150: [45.8, 53.6],
				151: [46.5, 54.5],
				152: [47.2, 55.3],
				153: [47.9, 56.1],
				154: [48.6, 56.9],
				155: [49.3, 57.7],
				156: [50.0, 58.6],
				157: [50.7, 59.4],
				158: [51.4, 60.2],
				159: [52.1, 61.0],
				160: [52.8, 61.8],
				161: [53.5, 62.7],
				162: [54.2, 63.5],
				163: [54.9, 64.3],
				164: [55.6, 65.1],
				165: [56.3, 65.9],
				166: [57.0, 66.8],
				167: [57.8, 67.7],
				168: [58.6, 68.7],
				169: [59.4, 69.6],
				170: [60.2, 70.5],
				171: [61.0, 71.4],
				172: [61.8, 72.4],
				173: [62.6, 73.3],
				174: [63.4, 74.2],
				175: [64.2, 75.1],
				176: [65.0, 76.1],
				177: [65.8, 77.0],
				178: [66.6, 78.0],
				179: [67.4, 78.9],
				180: [68.2, 79.8],
				181: [69.0, 80.8],
				182: [69.8, 81.7],
				183: [70.6, 82.7],
				184: [71.4, 83.6],
				185: [72.2, 84.6],
				186: [73.0, 85.6],
				187: [73.8, 86.6],
				188: [74.6, 87.5],
				189: [75.4, 88.4],
				190: [76.2, 89.3],
				191: [77.0, 90.3],
				192: [77.9, 91.2],
				193: [78.8, 92.3],
				194: [79.7, 93.4],
				195: [80.6, 94.5],
				196: [81.5, 95.4],
				197: [82.4, 96.5],
				198: [83.3, 97.6],
				199: [84.2, 98.6],
				200: [85.1, 99.7],
				201: [86.0, 100.8],
				202: [87.0, 102.0],
				203: [88.0, 103.1],
				204: [89.0, 104.2],
				205: [90.0, 105.4],
				206: [91.0, 106.6],
				207: [92.0, 107.7],
				208: [93.0, 108.9],
				209: [94.0, 110.0],
				210: [95.1, 111.4],
				211: [96.2, 112.7],
				212: [97.3, 114.0],
				213: [98.4, 115.3],
				214: [99.5, 116.6],
				215: [100.6, 117.9],
				216: [101.7, 119.2],
				217: [102.8, 120.5],
				218: [103.9, 121.8],
				219: [105.0, 123.0],
				220: [106.1, 124.3],
				221: [107.2, 125.6],
				222: [108.3, 126.9],
				223: [109.4, 128.2],
				224: [110.5, 129.5],
				225: [111.6, 130.8],
				226: [112.7, 132.1],
				227: [113.8, 133.4],
				228: [114.9, 134.7],
				229: [116.0, 136.0],
				230: [117.1, 137.3],
				231: [118.2, 138.6],
				232: [119.3, 139.9],
				233: [120.4, 141.2],
				234: [121.5, 142.5],
				235: [122.6, 143.8],
				236: [123.7, 145.0],
				237: [124.8, 146.3],
				238: [125.9, 147.6],
				239: [127.0, 148.9],
				240: [128.1, 150.2],
				241: [129.2, 151.5],
				242: [130.3, 152.7],
				243: [131.4, 153.9],
			};


		const muscleSelect = document.getElementById('muscle');
		const ethnicitySelect = document.getElementById('ethnicity');
		const ethnicityNote = document.getElementById('ethnicity-note');

		muscleSelect.addEventListener('change', () => {
			const muscle = parseFloat(muscleSelect.value);

			ethnicitySelect.disabled = false;
			ethnicityNote.innerText = "";
		});

		// --- HEIGHT SWITCH ---
		const switchInput = document.getElementById('unitSwitch');
		const metricInput = document.getElementById('metricInput');
		const imperialInput = document.getElementById('imperialInput');
		const heightCm = document.getElementById('heightCm');
		const heightFt = document.getElementById('heightFt');
		const heightIn = document.getElementById('heightIn');

		function cmToFeetInches(cm) {
		  let totalInches = cm / 2.54;
		  let feet = Math.floor(totalInches / 12);
		  let inches = Math.round(totalInches % 12);
		  if (inches === 12) { feet++; inches = 0; }
		  return [feet, inches];
		}

		function feetInchesToCm(feet, inches) {
		  return Math.round((feet * 12 + inches) * 2.54);
		}

		switchInput.addEventListener('change', () => {
		  if (switchInput.checked) {
			// Switch to imperial
			const [ft, inVal] = cmToFeetInches(heightCm.value);
			heightFt.value = ft;
			heightIn.value = inVal;
			metricInput.style.display = 'none';
			imperialInput.style.display = 'block';
		  } else {
			// Switch to metric
			const cm = feetInchesToCm(parseInt(heightFt.value), parseInt(heightIn.value));
			heightCm.value = cm;
			imperialInput.style.display = 'none';
			metricInput.style.display = 'block';
		  }
		});

		function lerp(a, b, t) {
		    return a + (b - a) * t;
		}
		
		function getTotalMultiplier(height, muscle, torso, ape, ethnicity, frame) {
		    // clamp height to the tuned range
		    const h = Math.min(Math.max(height, 134), 210);
		
		    let b;   // base
		    let km;  // muscle mul
		    let kt;  // torso mul
		    let kf;  // frame mul
		    let ke;  // ethnicity mul
		
		    if (h <= 170) {
		        // 134 -> 170
		        const t = (h - 134) / (170 - 134);
		
		        b  = lerp(1.0525, 1.0,    t);
		        km = lerp(1.15,   0.95,   t);
		        kt = lerp(2.04,   1.08,   t);
		        kf = lerp(1.2,    1.0,    t);
		        ke = 1.0;
		    } else if (h <= 180) {
		        // 170 -> 180
		        const t = (h - 170) / (180 - 170);
		
		        b  = lerp(1.0,    1.01,   t);
		        km = lerp(0.95,   1.0,    t);
		        kt = lerp(1.08,   0.833,  t);
		        kf = 1.0;
		        ke = lerp(1.0,    0.8,    t);
		    } else if (h <= 190) {
		        // 180 -> 190
		        const t = (h - 180) / (190 - 180);
		
		        b  = lerp(1.01,   1.02,   t);
		        km = 1.0;
		        kt = lerp(0.833,  0.667,  t);
		        kf = 1.0;
		        ke = lerp(0.8,    0.4,    t);
		    } else {
		        // 190 -> 210+
		        const t = (h - 190) / (210 - 190);
		
		        b  = lerp(1.02,   1.03,   t);
		        km = 1.0;
		        kt = lerp(0.667,  0.5,    t);
		        kf = 1.0;
		        ke = lerp(0.4,    0.2,    t);
		    }
		
		    const totalMultiplier =
		        b +
		        muscle    * km +
		        torso     * kt +
		        ape +
		        ethnicity * ke +
		        frame     * kf;
		
		    return totalMultiplier;
		}

		
		function calculateWeight() {
		let height = 172;
		const gender = document.getElementById('gender').value;
		const frame = parseFloat(document.getElementById('frame').value);
		let muscle = parseFloat(document.getElementById('muscle').value);
		const torso = parseFloat(document.getElementById('torso').value);
		const ape = parseFloat(document.getElementById('ape').value);
		let ethnicity = parseFloat(document.getElementById('ethnicity').value);
		let FFMI = 20;

		const baseWeights = gender === 'male' ? maleBaseWeights : femaleBaseWeights;

		if (switchInput.checked)
		{
			height = feetInchesToCm(parseInt(heightFt.value), parseInt(heightIn.value));
		}
		else
		{
			height = parseInt(document.getElementById('heightCm').value);
		}
			
		if (!baseWeights[height]) {
			document.getElementById('result').innerText = 'Height out of range or not supported yet.';
			return;
		}
			
		const base = baseWeights[height];

		let minWeight = base[0];
		let maxWeight = base[1];

		// decrease race impact
		if (muscle > 0) 
		{
			ethnicity *= 0.75
		}
			
		// Large frame low muscle situation.
		if (frame > 0)
		{
		  if (muscle < 0)
		  {
		    muscle = -0.08
		  }
		  else if (muscle == 0)
		  {
		    muscle = -0.02
		  }
		}

		let totalMultiplier = getTotalMultiplier(height, muscle, torso, ape, ethnicity, frame);

		minWeight *= totalMultiplier;
		maxWeight *= totalMultiplier;
		
		const heightMeters = height / 100;
		const heightSqr = heightMeters * heightMeters;

		FFMI = gender === 'male' ? (maxWeight * 0.8 / heightSqr) : (maxWeight * 0.7 / heightSqr); // max weight is always 20% bf for men and 30% bf for women

		if (switchInput.checked)
		{
			document.getElementById('result').innerText =
			`Ideal Weight Range: ${(minWeight * 2.205).toFixed(1)} lb – ${(maxWeight * 2.205).toFixed(1)} lb, ${(FFMI.toFixed(1))} FFMI`;
		}
		else
		{
		document.getElementById('result').innerText =
			`Ideal Weight Range: ${minWeight.toFixed(1)} kg – ${maxWeight.toFixed(1)} kg, ${(FFMI.toFixed(1))} FFMI`;
		}
	}

	</script>
</body>
</html>





